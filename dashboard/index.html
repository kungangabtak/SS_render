<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hole Cards Dashboard</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="page">
      <header class="header">
        <div>
          <h1>Hole Cards Dashboard</h1>
          <p class="subhead">Subscribe to your Render WebSocket hub and display the latest 2 hole cards.</p>
        </div>
        <div class="status" id="statusBadge" data-status="disconnected">
          <span class="dot" aria-hidden="true"></span>
          <span class="text" id="statusText">disconnected</span>
        </div>
      </header>

      <section class="panel">
        <div class="grid">
          <div class="field">
            <label for="hubInput">Hub WSS base</label>
            <input
              id="hubInput"
              type="text"
              spellcheck="false"
              placeholder="wss://dom-hub.onrender.com/"
              value="wss://dom-hub.onrender.com/"
              autocomplete="off"
            />
            <div class="hint">Example: <code>wss://dom-hub.onrender.com/</code></div>
          </div>

          <div class="field">
            <label for="tokenInput">Token</label>
            <input id="tokenInput" type="password" spellcheck="false" placeholder="HUB_TOKEN" autocomplete="off" />
          </div>

          <div class="actions">
            <button id="connectBtn" class="btn primary">Connect</button>
            <button id="disconnectBtn" class="btn" disabled>Disconnect</button>
            <button id="clearLogBtn" class="btn danger" title="Clear message log">Clear log</button>
          </div>
        </div>
      </section>

      <section class="panel">
        <div class="cardsHeader">
          <h2>Latest hand</h2>
          <div class="meta">
            <div class="metaRow">
              <span class="metaLabel">Last update</span>
              <span class="metaValue" id="lastUpdate">—</span>
            </div>
            <div class="metaRow" id="tableUrlRow" hidden>
              <span class="metaLabel">Table</span>
              <a class="metaValue link" id="tableUrl" href="#" target="_blank" rel="noreferrer">—</a>
            </div>
          </div>
        </div>

        <div class="cards" aria-label="Latest hole cards">
          <div class="cardTile" id="card1" data-color="black" aria-label="Card 1">
            <div class="value" id="card1Value">—</div>
            <div class="suit" id="card1Suit">?</div>
          </div>
          <div class="cardTile" id="card2" data-color="black" aria-label="Card 2">
            <div class="value" id="card2Value">—</div>
            <div class="suit" id="card2Suit">?</div>
          </div>
        </div>
      </section>

      <section class="panel">
        <div class="logHeader">
          <h2>Message log</h2>
          <div class="logHint">Last ~50 messages. Click a row to expand raw JSON.</div>
        </div>
        <div class="log" id="log"></div>
      </section>

      <footer class="footer">
        <span class="muted">Tip: open with query params <code>?hub=...&amp;token=...</code> to auto-connect.</span>
      </footer>
    </div>

    <script src="./app.js"></script>
  </body>
</html>

